
# **Программное средство реализации онлайн-сервиса для парусных туров**

Краткое описание проекта, его цели и основные возможности

Ссылки на репозитории сервера и клиента
Клиент:
https://github.com/A-l-i-n-a-K/WindRoute-frontend.git
Сервер:
https://github.com/A-l-i-n-a-K/WindRoute-backend.git
---

## **Содержание**

1. [Архитектура](#Архитектура)
	1. [C4-модель](#C4-модель)
	2. [Схема данных](#Схема_данных)
2. [Функциональные возможности](#Функциональные_возможности)
	1. [Диаграмма вариантов использования(#Диаграмма_вариантов_использования)]
	2. [User-flow диаграммы](#User-flow_диаграммы)
3. [Детали реализации](#Детали_реализации)
	1. [UML-диаграммы](#UML-диаграммы)
	2. [Спецификация API](#Спецификация_API)
	3. [Безопасность](#Безопасность)
	4. [Оценка качества кода](#Оценка_качества_кода)
4. [Тестирование](#Тестирование)
	1. [Unit-тесты](#Unit-тесты)
	2. [Интеграционные тесты](#Интеграционные_тесты)
5. [Установка и  запуск](#installation)
	1. [Манифесты для сборки docker образов](#Манифесты_для_сборки_docker_образов)
	2. [Манифесты для развертывания k8s кластера](#Манифесты_для_развертывания_k8s_кластера)
6. [Лицензия](#Лицензия)
7. [Контакты](#Контакты)

---
## **Архитектура**

### C4-модель

Для описания архитектурных решений программного средства была использована нотация С4 mo del. Каждый последующий уровень детализирует предыдущий, включая четыре уровня абстракции: контекст, контейнеры, компоненты и классы. 
Контекстный уровень представления программного обеспечения показан ниже.
<img width="974" height="704" alt="image" src="https://github.com/user-attachments/assets/09a95a00-6368-450c-bb2f-9f7fadf34bf0" />
Контейнерный уровень представления архитектуры программного средства представлен ниже.
<img width="863" height="526" alt="image" src="https://github.com/user-attachments/assets/468799c3-e987-429d-a0cf-224d5fa3122f" />
Следующим уровнем представления архитектуры программного средства является компонентный. Он представлен ниже.
<img width="928" height="602" alt="image" src="https://github.com/user-attachments/assets/c464e7bf-39e2-42fc-9268-8550e2a17af2" />
Самым нижним уровнем представления архитектуры является кодовый. Кодовый уровень представления архитектуры представлен ниже.
<img width="953" height="401" alt="image" src="https://github.com/user-attachments/assets/f1ff3224-2087-4941-80fd-0b6e1c5f331b" />
Таким образом, было описано архитектурное решение с использованием нотации C4 model, рассмотрены контекстный, контейнерный, компонентный и кодовый уровни представления архитектуры программного средства.
Clean Architecture – это подход к проектированию программных систем, который направлен на создание гибких, масштабируемых и легко сопровождаемых приложений. Его суть заключается в строгом разделении ответственности между слоями и в том, что бизнес логика (ядро системы) не зависит от деталей реализации – фреймворков, баз данных, пользовательского интерфейса или внешних сервисов. Такая архитектура обеспечивает независимость от технологий, возможность замены интерфейсов и инфраструктуры без переписывания бизнес правил, а также высокую тестируемость.
В основе архитектуры онлайн сервиса для парусных туров лежит доменный слой, который описывает ключевые объекты и их поведение: User с ролью клиента, туроператора или администратора; Tour с маршрутом, датой начала, ценой и координатами; Booking с привязкой к пользователю и туру, статусом и датой создания. Здесь же находятся value объекты вроде Coordinates и SearchCriteria. Этот слой формулирует бизнес правила и ограничения, не зная, как именно данные будут храниться или отображаться.
Над ним расположен слой прикладных сценариев, где описаны конкретные действия системы. Каждый сценарий – это отдельный use case, который принимает входные данные, взаимодействует с сущностями и репозиториями, проверяет условия и возвращает результат. Например, сценарий бронирования проверяет доступность тура, создаёт запись и инициирует уведомление; сценарий поиска туров применяет фильтры и возвращает список подходящих маршрутов; сценарий регистрации создаёт нового пользователя и отправляет приветственное сообщение.
Слой адаптеров отвечает за связь бизнес логики с внешними системами. Здесь находятся контроллеры, принимающие запросы от React SPA и преобразующие их в команды или запросы к use case. Репозитории реализуют доступ к MySQL, сервисы интеграции работают с Google Maps API для отображения маршрутов и с Notification Service для отправки сообщений. DTO и мапперы обеспечивают преобразование данных между слоями, а презентеры формируют ответы для фронтенда.
На внешнем уровне находится инфраструктурный слой, где собраны конкретные технологии: React SPA для пользовательского интерфейса, Spring Boot для backend сервисов, MySQL для хранения данных,  Google Maps API для карт и геолокации, WebSocket для уведомлений в реальном времени. Этот слой можно заменить или модернизировать без изменения внутренней логики.





### Схема данных

Описание отношений и структур данных, используемых в ПС. Также представить скрипт (программный код), который необходим для генерации БД

---

## **Функциональные возможности**

### Диаграмма вариантов использования

Диаграмма вариантов использования и ее описание

### User-flow диаграммы

Ниже представлен пользовательский сценарий работы клиента с онлайн сервисом парусных туров. Он отражает последовательность действий от входа в систему до поиска, бронирования и оплаты тура, а также показывает возможные развилки и варианты завершения процесса.

<img width="5883" height="5053" alt="Клиент" src="https://github.com/user-attachments/assets/30e0c9cc-7bd4-4a52-b655-4cd2f99afcdd" />

Клиент заходит в приложение. На главной странице он видит краткое описание сервиса, рекламные баннеры с актуальными турами и кнопку для входа или регистрации. Если пользователь новый, он проходит процедуру регистрации, указывая имя, адрес электронной почты, пароль и контактные данные. Уже зарегистрированный клиент входит в систему по логину и паролю, после чего сервис проверяет корректность введённых данных. Если данные неверны, система просит повторно ввести данные, если верны – открывает личный кабинет.
В личном кабинете клиент получает доступ к основным функциям: он может редактировать свой профиль, добавляя или изменяя личные данные, пароль и просматривать уведомления от системы, такие как напоминание об оплате, подтверждение бронирования и сообщения от туроператора.
Также клиент может просмотреть свою историю бронирований, как завершенных туров, так и активных бронирований. Для предстоящего тура пользователь может отменить бронь, скачать билет, оплатить тур, если он не был оплачен ранее, а также просмотреть детали тура. Для завершенных – просмотреть детали, повторно его забронировать и оставить отзыв.
Клиент может сразу перейти к поиску новых туров. При переходе на страницу туров, ему будут представлены все доступные. Для поиска он задаёт параметры – даты, маршрут, длительность, стоимость, количество участников и дополнительные услуги. Система формирует список доступных вариантов, из которого клиент выбирает подходящий тур. На странице выбранного тура он знакомится с описанием маршрута, фотографиями яхты и условий проживания, стоимостью и перечнем включённых услуг, а также с отзывами других участников. Если предложение его не устраивает, он продолжает искать подходящий, иначе может его забронировать или добавить в избранное.
При бронировании тура открывается форма бронирования, где клиент указывает количество участников, выбирает дополнительные услуги, такие как аренда снаряжения или питание, и может оставить специальные пожелания. Система проверяет корректность введённых данных, если данные некорректны просит повторить ввод, иначе переводит пользователя к этапу оплаты. Клиент выбирает удобный способ – банковскую карту, онлайн кошелёк или другой доступный вариант. Далее пользователь подтверждает оплату. При успешной оплате система сообщает об успешной оплате, а при ошибке уведомляет клиента и предлагает повторить попытку. Если клиент отказывается, тур помечается статусом «Ожидает оплаты». Если оплата не будет произведена в течении 24 часов, то клиент получает сообщение об отмене бронирования.
Дополнительно сервис позволяет сохранить тур в «Избранное» для будущего бронирования. В том же разделе он может просмотреть ранее сохраненные туры или удалить их оттуда. Завершая процесс, клиент выходит из программы.
Далее приведён пользовательский сценарий работы туроператора в онлайн сервисе. Он описывает шаги по управлению турами, обработке заявок клиентов, взаимодействию с системой уведомлений и формированию отчётности, что позволяет проследить ключевые бизнес процессы со стороны поставщика услуг.

<img width="6072" height="4232" alt="Туроператоры" src="https://github.com/user-attachments/assets/017f3fcc-c585-4abd-a526-965e1986fc4c" />

Туроператор заходит в приложение. На главной странице он выбирает вход для туроператора и вводит логин и пароль. Система проверяет корректность данных: если они неверны, оператору предлагается повторить ввод, если верны – открывается личный кабинет.
В личном кабинете туроператор получает доступ к основным функциям. Он может редактировать профиль компании, добавляя или изменяя контактные данные, описание, логотип и условия сотрудничества. Также в кабинете отображаются уведомления от системы: новые заявки клиентов, напоминания об оплате, сообщения и вопросы от пользователей.
Основной раздел работы туроператора – управление турами. При переходе на страницу система сразу показывает список всех созданных туров. Здесь оператор может просмотреть их, отфильтровать по датам или статусу, а также выполнить поиск. Далее он выбирает действие: добавить новый тур или работать с существующим. При добавлении открывается форма, где указываются маршрут, даты, стоимость, описание, фотографии и дополнительные услуги. После проверки корректности данных тур сохраняется как черновик, после он может опубликовать его в каталоге. Если он этого не делает, то тур остается в статусе «Черновик». При работе с существующим туром оператор может просмотреть его детали, внести изменения, заархивировать или удалить, если нет активных бронирований. Если изменения затрагивают уже подтверждённые заявки, система требует уведомить клиентов или согласовать корректировки.
Также туроператор обрабатывает заявки клиентов. Туроператор видит список всех заявок с указанием их статуса: новые, подтверждённые, оплаченные или отменённые. Для каждой заявки он может выбрать действие: подтвердить, отклонить или запросить уточнения. При подтверждении система проверяет соответствие условий. Если всё корректно, клиент получает уведомление и может оплатить тур. Если условия не соответствуют, оператор предлагает альтернативы, если клиент отказывается, то туроператор отклоняет заявку. После подтверждения система отслеживает оплату: при успешном платеже формируются документы, при отсутствии оплаты в течении 24 часов бронь отменяется и клиенту отправляется сообщение об отмене. При отклонении заявки туроператор указывает причину и отправляет уведомление клиенту.
Дополнительно туроператор имеет доступ к отчетности и аналитике. Здесь он получает три варианта работы с данными. Если необходимо подготовить документы, он выбирает выгрузку отчётов в формате PDF или Excel, чтобы сохранить их для внутреннего использования или передачи руководству. Если важна наглядность, оператор открывает визуализированные данные и видит графики и диаграммы, которые показывают динамику спроса, загрузку туров и финансовые показатели. Если же нужен быстрый доступ к цифрам, он просматривает таблицу основных метрик, где собраны ключевые показатели: количество заявок, процент оплаченных туров и выручка за период.
Завершая работу, туроператор выходит из системы, при этом все изменения сохраняются, а новые туры и обновлённые заявки становятся доступны клиентам.




---

## **Детали реализации**

### UML-диаграммы

Представить все UML-диаграммы , которые позволят более точно понять структуру и детали реализации ПС

### Спецификация API

Представить описание реализованных функциональных возможностей ПС с использованием Open API (можно представить либо полный файл спецификации, либо ссылку на него)

### Безопасность

Описать подходы, использованные для обеспечения безопасности, включая описание процессов аутентификации и авторизации с примерами кода из репозитория сервера

### Оценка качества кода

Используя показатели качества и метрики кода, оценить его качество

---

## **Тестирование**

### Unit-тесты

Представить код тестов для пяти методов и его пояснение

### Интеграционные тесты

Представить код тестов и его пояснение

---

## **Установка и  запуск**

### Манифесты для сборки docker образов

Представить весь код манифестов или ссылки на файлы с ними (при необходимости снабдить комментариями)

### Манифесты для развертывания k8s кластера

Представить весь код манифестов или ссылки на файлы с ними (при необходимости снабдить комментариями)

---

## **Лицензия**

Этот проект лицензирован по лицензии MIT - подробности представлены в файле [[License.md|LICENSE.md]]

---

## **Контакты**

Автор: email
